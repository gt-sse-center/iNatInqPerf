dataset:
  dataset_id: sagecontinuum/INQUIRE-Benchmark-small
  splits: "validation+test"
  directory: data/inquire_benchmark/raw
  export_images: true

embedding:
  model_id: openai/clip-vit-base-patch32
  batch_size: 64
  directory: data/inquire_benchmark/emb

container_network: qdrant-cluster

containers:
  - image: "qdrant/qdrant:latest"
    name: "qdrant-node-1"
    hostname: "qdrant-node-1"
    network: "qdrant-cluster"
    environment:
      QDRANT__SERVICE__HOST: "0.0.0.0"
      QDRANT__SERVICE__HTTP_PORT: "6333"
      QDRANT__SERVICE__GRPC_PORT: "6334"
      QDRANT__STORAGE__PERSISTENCE_PATH: "/qdrant/storage"
      QDRANT__LOG__LEVEL: "INFO"
      QDRANT__CONFIG_PATH: "/qdrant/config/cluster.yaml"
    ports:
      6333: 6333
      6334: 6334
      6335: 6335
    volumes:
      - "qdrant_node1_storage:/qdrant/storage"
      - "configs/qdrant/cluster-node-1.yaml:/qdrant/config/cluster.yaml:ro"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:6333/healthz"]
      interval: 3 * 10**9
      timeout: 2 * 10**9
      retries: 3

  - image: "qdrant/qdrant:latest"
    name: "qdrant-node-2"
    hostname: "qdrant-node-2"
    network: "qdrant-cluster"
    environment:
      QDRANT__SERVICE__HOST: "0.0.0.0"
      QDRANT__SERVICE__HTTP_PORT: "6333"
      QDRANT__SERVICE__GRPC_PORT: "6334"
      QDRANT__STORAGE__PERSISTENCE_PATH: "/qdrant/storage"
      QDRANT__LOG__LEVEL: "INFO"
      QDRANT__CONFIG_PATH: "/qdrant/config/cluster.yaml"
    ports:
      6333: 6433
      6334: 6434
      6335: 6435
    volumes:
      - "qdrant_node2_storage:/qdrant/storage"
      - "configs/qdrant/cluster-node-2.yaml:/qdrant/config/cluster.yaml:ro"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:6333/healthz"]
      interval: 3 * 10**9
      timeout: 2 * 10**9
      retries: 3

  - image: "qdrant/qdrant:latest"
    name: "qdrant-node-3"
    hostname: "qdrant-node-3"
    network: "qdrant-cluster"
    environment:
      QDRANT__SERVICE__HOST: "0.0.0.0"
      QDRANT__SERVICE__HTTP_PORT: "6333"
      QDRANT__SERVICE__GRPC_PORT: "6334"
      QDRANT__STORAGE__PERSISTENCE_PATH: "/qdrant/storage"
      QDRANT__LOG__LEVEL: "INFO"
      QDRANT__CONFIG_PATH: "/qdrant/config/cluster.yaml"
    ports:
      6333: 6533
      6334: 6534
      6335: 6535
    volumes:
      - "qdrant_node3_storage:/qdrant/storage"
      - "configs/qdrant/cluster-node-3.yaml:/qdrant/config/cluster.yaml:ro"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:6333/healthz"]
      interval: 3 * 10**9
      timeout: 2 * 10**9
      retries: 3

vectordb:
  type: qdrant.cluster
  params:
    index_type: hnsw
    metric: cosine
    url: http://localhost
    port: "6333"
    grpc_port: "6334"
    collection_name: Benchmark
    node_urls:
      - http://localhost:6333
      - http://localhost:6433
      - http://localhost:6533
    container_names:
      - qdrant-node-1
      - qdrant-node-2
      - qdrant-node-3
    shard_number: 3
    replication_factor: 2
    write_consistency_factor: 2
    m: 32
    ef: 128
    batch_size: 1000

search:
  topk: 10
  queries_file: benchmark/queries.txt

update:
  add_count: 50
  delete_count: 30
